<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<th:block th:include="fragments/resources"></th:block>
</head>

<body data-ma-theme="blue">
	<th:block th:insert="fragments/header"></th:block>
	<th:block th:insert="fragments/menu"></th:block>
	<section class="content">

		<div class="card">
			<div class="card-body">
				<h4 class="card-title">Nueva Consulta Médica</h4>

				<form th:action="@{/consultamedica/crear}" th:method="post"
					th:object="${consultaMedica}">

					<div th:if="${error!=null}" th:text="${error}"
						class="alert alert-danger"></div>

					<div th:if="${#fields.hasErrors('*')}" class="alert alert-danger">
						<ul class="list list--check" style="margin-block-end: 0;">
							<li th:each="err : ${#fields.errors('*')}" th:text="${err}" />
						</ul>
					</div>
					<div class="col-md-6">
						<div class="form-group">
							<input type="text" th:field="*{fechaRegistro}"
								class="validate[required] form-control date-picker hidden-sm-down"
								placeholder="Fecha de Registro" data-language='es'>
						</div>
					</div>
					<div class="col-md-6">
						<div class="form-group">
							<label>Doctor</label> <select th:field="*{doctor.idDoctor}"
								class="form-control">
								<option value="-1">Seleccione</option>
								<option th:each="tipo : ${listaDoctores}"
									th:value="${tipo.idDoctor}"
									th:text="${tipo.nombres} + ' ' + ${tipo.apellidos}  + ' [Especialidad: ' + ${tipo.especialidad.nombreEspecialidad}+']'" />
							</select>
						</div>
					</div>
					<div class="col-md-6">
						<div class="form-group">
							<label>Paciente</label> <select th:field="*{paciente.idPaciente}"
								class="form-control">
								<option value="-1">Seleccione</option>
								<option th:each="tipo : ${listaPaciente}"
									th:value="${tipo.idPaciente}"
									th:text="${tipo.nombres} + ' ' + ${tipo.apellidos} + ' [DNI: ' + ${tipo.dni}+']'" />
							</select>
						</div>
					</div>
					<!--div class="col-md-6">
						<div class="form-group">
							<label>Diagnóstico</label> <select th:field="*{diagnostico}"
								class="select2" multiple data-placeholder="Seleccione">
								<option
									th:each="diagnostico : ${T(com.mitocode.enums.Diagnostico).values()}"
									th:value="${diagnostico}" th:text="${diagnostico.displayValue}"></option>
							</select>
						</div>
					</div-->
					<div>
						<button type="submit" class="btn btn-primary">Registrar</button>
						<a class="btn btn-danger" th:href="@{'/consultamedica'}">Cancelar</a>
					</div>
				</form>
			</div>
		</div>
	</section>
</body>
</html>